---
argument_specs:
  main:
    options:
      niri_kdl_animations:
        type: str
        description: Animation configuration block for niri
      niri_kdl_binds:
        type: str
        description: Key binds configuration block for niri
      niri_kdl_binds_extra:
        type: dict
        default: {}
        description: Extra key binds to add/override
      niri_kdl_binds_skip:
        type: list
        elements: str
        default: []
        description: Keybinds to remove from defaults
      niri_kdl_clipboard:
        type: str
        description: Clipboard configuration block for niri
      niri_kdl_config_notification:
        type: str
        description: Config notification settings for niri
      niri_kdl_cursor:
        type: str
        description: Cursor configuration block for niri
      niri_kdl_debug:
        type: str
        description: Debug configuration block for niri
      niri_kdl_environment:
        type: dict
        default: {}
        description: Environment variables to set for niri session
      niri_kdl_gestures:
        type: str
        description: Gesture configuration block for niri
      niri_kdl_hotkey_overlay:
        type: str
        description: Hotkey overlay configuration block for niri
      niri_kdl_input:
        type: str
        description: Input device configuration block for niri
      niri_kdl_layout:
        type: str
        description: Layout configuration block for niri
      niri_kdl_layout_rules:
        type: list
        default: []
        description: Layout rule configuration blocks for niri
        elements: str
      niri_kdl_outputs:
        type: dict
        default: {}
        description: |
          Configure individual displays and monitors.

          Dictionary where keys are output names (eDP-1, HDMI-A-1, Virtual-1, etc.)
          and values are niri configuration blocks for that output's settings like
          resolution, position, scale, transform, etc.
      niri_kdl_overview:
        type: str
        description: Overview configuration block for niri
      niri_kdl_prefer_no_csd:
        type: bool
        default: true
        description: Whether to prefer no client-side decorations
      niri_kdl_screenshot_path:
        type: str
        default: "~/Pictures/Screenshots/Screenshot from %Y-%m-%d %H-%M-%S.png"
        description: Path template for screenshots
      niri_kdl_spawn_at_startup:
        type: list
        default: []
        description: Commands to spawn at niri startup
        elements: str
      niri_kdl_spawn_sh_at_startup:
        type: list
        default: []
        description: Shell commands to spawn at niri startup
        elements: str
      niri_kdl_switch_events:
        type: str
        description: Switch event configuration block for niri
      niri_kdl_window_rules:
        type: list
        default: []
        description: Window rule configuration blocks for niri
        elements: str
      niri_kdl_xwayland_satellite:
        type: str
        description: Xwayland satellite configuration block for niri
      niri_overwrite_config_files:
        type: bool
        default: false
        description: |-
          Flag to overwrite default config files.

          This does not affect templates which are always overwritten.
      niri_polkit_agent:
        type: str
        default: mate
        choices: [kde, lxqt, lxde, mate, xfce]
        description: Which graphical policykit agent to use
      niri_sddm_theme:
        type: str
        default: maldives
        description: Which SDDM theme to use
      niri_swaybg_image:
        type: str
        default: /usr/share/backgrounds/f42/default/f42-01-day.jxl
        description: Which background image file to display on the desktop
      niri_swayidle_events:
        type: dict
        description: Which events to handle with swayidle
        options:
          after-resume:
            type: str
            description: Commands to run after system resumes from sleep
          before-sleep:
            type: str
            default: swaylock -f
            description: Commands to run before system goes to sleep
          idlehint:
            type: int
            description: Set IdleHint timeout
          lock:
            type: str
            description: Command to run when logind is locked
          unlock:
            type: str
            description: Command to run when logind is unlocked
      niri_swayidle_timeout_monitors:
        type: int
        default: 960
        description: Timeout to turn the monitors off in seconds
      niri_swayidle_timeout_screenlock:
        type: int
        default: 900
        description: Timeout to lock the screen in seconds
      niri_swayidle_timeouts:
        type: list
        default:
          - seconds: "{{ niri_swayidle_timeout_screenlock }}"
            command: swaylock -f
          - seconds: "{{ niri_swayidle_timeout_monitors }}"
            command: niri msg action power-off-monitors
        description: Sway idle timeout arguments
        elements: dict
        options:
          seconds:
            type: int
            required: true
            description: Number of seconds for the timeout event
          command:
            type: str
            required: true
            description: Command to run when timeout is triggered
          resume:
            type: str
            description: Command to run after activity post timeout
      niri_swaylock_options:
        type: dict
        default:
          color: 1e1e1e
          ignore-empty-passwords: ~
          show-failed-attempts: ~
        description: Default options for swaylock
      niri_swaylock_options_extra:
        type: dict
        default: {}
        description: Extra options for swaylock
      niri_swaylock_options_skip:
        type: list
        default: []
        description: Options to remove from the swaylock defaults
        elements: str

dependencies:
  - role: sysengquick.unix.user
